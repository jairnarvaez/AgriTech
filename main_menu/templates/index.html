{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <style>
        /* Agrega estilos para la animación */
        #miDiv {
            overflow: hidden;
            height: 0;
            transition: height 0.5s ease-in-out;
        }
    </style>

    <link rel="apple-touch-icon" sizes="10x10" href="{% static 'img/logo-icon.png' %}">
    <link rel="icon" type="image/png" href="{% static 'img/logo-icon.png' %}">  
    <title> {{ titulo }} </title>
    
    <!--     Para las fuentes e iconos    -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
    <link href="{% static 'css/nucleo-icons.css' %}" rel="stylesheet" />
    <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
    <link rel="stylesheet" href="{% static 'css/styles_main_menu.css' %}" />

    <link id="pagestyle" href="{% static 'css/material-dashboard.css' %}" rel="stylesheet" />

  </head>


  <body class="g-sidenav-show  bg-gray-100">

    <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3   bg-gradient-dark" id="sidenav-main">
      
      <div class="sidenav-header">
        <i class="fas fa-times p-3 cursor-pointer text-white opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
        <a class="navbar-brand m-0" href="" target="_blank">
          <img src="{% static '/img/logo.png' %}" class="navbar-brand-img" alt="main_logo">
          <span class="ms-1 font-weight-bold text-white"> {{ titulo }} <span>
        </a>
      </div>

      <hr class="horizontal light mt-0 mb-2">

      <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
        <ul class="navbar-nav">   
          <li class="nav-item mt-3">
            <h6 class="ps-4 ms-2 text-uppercase text-xs text-white font-weight-bolder opacity-8"> Menú principal</h6>
          </li>  
          
          <li class="nav-item">
            <a class="nav-link text-white " href="{% url 'main_menu:main_menu' %}">
              <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                <i class="material-icons opacity-10">dashboard</i>
              </div>
              <span class="nav-link-text ms-1">{{ app_1 }}</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white " href="{% url 'news:news' %}">
              <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                <i class="material-icons opacity-10">table_view</i>
              </div>
              <span class="nav-link-text ms-1">{{ app_2 }}</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white " href="{% url 'task_manager:task_manager' %}">
              <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                <i class="material-icons opacity-10">receipt_long</i>
              </div>
              <span class="nav-link-text ms-1"> {{ app_3 }} </span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white " href="{% url 'notifications:notifications' %}">
              <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                <i class="material-icons opacity-10">notifications</i>
              </div>
              <span class="nav-link-text ms-1">{{ app_4 }}</span>
            </a>
          </li>

          <li class="nav-item mt-3">
            <h6 class="ps-4 ms-2 text-uppercase text-xs text-white font-weight-bolder opacity-8">Account pages</h6>
          </li> 
          <!--
          <li class="nav-item">
            <a class="nav-link text-white " href="./profile.html">
              
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10">person</i>
                </div>
              
              <span class="nav-link-text ms-1">Perfil</span>
            </a>
          </li>
        -->
          <li class="nav-item">
            <a class="nav-link text-white " href="{% url 'sign_in:sign_in' %}">
              
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10">login</i>
                </div>
              
              <span class="nav-link-text ms-1">{{ app_5 }}</span>
            </a>
          </li>

        </ul>
      </div>
    </aside>

    <main class="main-content border-radius-lg ">
      <!-- Navbar -->
      <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" data-scroll="true">
        <div class="container-fluid py-1 px-3">

          <nav aria-label="breadcrumb">
            <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
              <li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark" href="javascript:;">Pagina</a></li>
              <li class="breadcrumb-item text-sm text-dark active" aria-current="page">index</li>
            </ol>
            <h6 class="font-weight-bolder mb-0">Gráficas</h6>
          </nav>

          <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
            <div class="ms-md-auto pe-md-3 d-flex align-items-center">
              <div class="input-group input-group-outline">    
                <label class="form-label">...</label>
                <input type="text" class="form-control">
              </div>
            </div>

            <ul class="navbar-nav  justify-content-end">

              <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
                <a href="javascript:;" class="nav-link text-body p-0" id="iconNavbarSidenav">
                  <div class="sidenav-toggler-inner">
                    <i class="sidenav-toggler-line"></i>
                    <i class="sidenav-toggler-line"></i>
                    <i class="sidenav-toggler-line"></i>
                  </div>  
                </a>
              </li>
              
              <li class="nav-item px-3 d-flex align-items-center">
                <a href="javascript:;" class="nav-link text-body p-0">
                  <i class="fa fa-cog fixed-plugin-button-nav cursor-pointer"></i>
                </a>
              </li>

              <li class="nav-item dropdown pe-2 d-flex align-items-center">
                <a  href="{% url 'notifications:notifications' %}" class="nav-link text-body p-0" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="fa fa-bell cursor-pointer"></i>
                </a>
              
              </li>
              <!--

              <li class="nav-item d-flex align-items-center">
                <a href="./pages/sign-in.html" class="nav-link text-body font-weight-bold px-0">
                  <i class="fa fa-user me-sm-1"></i>
                  <span class="d-sm-inline d-none">Sign In</span>
                </a>
              </li>

              -->

            </ul>
          </div>
        </div>
      </nav>
      
      
      <!-- End Navbar -->
      
      <div class="container-fluid pt-2">
        <div class="row">
          <div class="col-lg-7 position-relative z-index-2">
            <div class="card card-plain mb-4 ms-3 pb-4">
                  <h2 class="font-weight-bolder mb-0">Estadísticas Generales</h2>
            </div>
            
            <div class="row">
              <div class="col-lg-5 col-sm-5">
                <div class="card  mb-2">
                  
                  <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-info shadow-info shadow text-center border-radius-xl mt-n4 position-absolute">
                      <i class="material-icons opacity-10">water_drop</i>
                    </div>
                    <div class="text-end pt-1">
                      <p class="text-sm mb-0 text-capitalize">Humedad</p>
                      <h4 class="mb-0">70%</h4>
                    </div>
                    <div id="graph_humidity" class="graph_humidity mt-n5 text-lg-start position-relative"></div>

                  </div>


                  <hr class="dark horizontal my-0">
                  <div class="card-footer p-3">

                    <div class="row">
                      <div class="col-lg-12">
                        <p class="mb-0">
                          <i class="material-icons opacity-10 text-info ">verified_user</i>
                          <span class="text-info  text-sm font-weight-bolder"> Estable </span> 
                          Los niveles son los adecuados, no requiere acción. 
                        </p>
                      </div>
                      <!-- 
                      <div class="col-lg-3 ">
                        <select class="h6 form-control text-lg-end"> 
                          <option value="1">Barras  </option>
                          <option value="2">Pie</option>
                          <option value="3">Histograma</option>
                        </select>
                      </div>
                      <div class="col-lg-1 text-lg-start">
                        <i class="material-icons opacity-10">eco </i> 
                      </div> -->

                    </div>
                  </div>
                </div>

                <div class="card  mb-2 mt-5">
                  <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-danger shadow-danger shadow text-center border-radius-xl mt-n4 position-absolute">
                      <i class="material-icons opacity-10">thermostat</i>
                    </div>
                    <div class="text-end pt-1">
                      <p class="text-sm mb-0 text-capitalize">Temperatura</p>
                      <h4 class="mb-0">31°</h4>
                    </div>
                    <div id="graph_temperature" class="graph_temperature mt-n5 text-lg-start"></div>
                  
                  </div>
                  

                  <hr class="dark horizontal my-0">
                  
                  <div class="card-footer p-3">
                    <p class="mb-0">
                      <i class="material-icons opacity-10 text-danger ">verified_user</i>
                      <span class="text-danger  text-sm font-weight-bolder"> Estable </span> 
                      Los niveles son los adecuados, no requiere acción.  
                    </p>
                  </div>
                </div>
              </div>
              
              <div class="col-lg-5 col-sm-5 mt-sm-0 mt-4">
                <div class="card  mb-2">
                  <div class="card-header p-3 pt-2 bg-transparent">
                    <div class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute">
                      <i class="material-icons opacity-10">eco</i>
                    </div>
                    <div class="text-end pt-1">
                      <p class="text-sm mb-0 text-capitalize ">Nutrientes</p>
                      <h4 class="mb-0 ">21%</h4>
                      <div id="graph_nutrients" class="graph_nutrients mt-n5 text-lg-start"></div>
                    </div>
                  </div>

                  
                  <hr class="horizontal my-0 dark">
                  
                  <div class="card-footer p-3">
                    <p class="mb-0">
                      <i class="material-icons opacity-10 text-success ">verified_user</i>
                      <span class="text-success  text-sm font-weight-bolder"> Estable </span> 
                      Los niveles son los adecuados, no requiere acción.  
                    </p>
                  </div>
                </div>
                
                <div class="card mt-5">
                  <div class="card-header p-3 pt-2 bg-transparent">
                    <div class="icon icon-lg icon-shape bg-gradient-warning shadow-warning text-center border-radius-xl mt-n4 position-absolute">
                      <i class="material-icons opacity-10">light_mode</i>
                    </div>
                    
                    <div class="text-end pt-1">
                      <p class="text-sm mb-0 text-capitalize ">Fósforo </p>
                      <h4 class="mb-0 ">10%</h4>
                      
                      <div id="graph_phosphorus" class="graph_phosphorus mt-n5 text-lg-start"></div>


                    </div>
                  </div>

                  <hr class="horizontal my-0 dark">
                  <div class="card-footer p-3">
                    <p class="mb-0">
                      <i class="material-icons opacity-10 text-warning ">verified_user</i>
                      <span class="text-warning text-sm font-weight-bolder"> Estable </span> 
                      Los niveles son los adecuados, no requiere acción.  
                    </p>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
        
        <div class="row mt-4 justify-content-center">
          <div class="col-lg-9 mt-3 mb-4 ">
            <div class="card z-index-2">
              <div class="card-header pb-0">
                <h6>Estado general de la huerta</h6>
                <div class="alert-danger"></div>
                <p class="">
                  <i class="fa fa-arrow-right text-success"></i>
                  <span class="font-weight-bold"></span>
                  La huerta se encuentra en un estado saludable en este momento. La temperatura es la adecuada para el crecimiento de las plantas. El suelo, retiene bien la humedad, lo que es beneficioso para las plantas, y el riego se ha realizado de manera constante manteniendo las raíces hidratadas. Sin embargo,se ha notado que algunas de las plantas muestran signos de deficiencia de nutrientes. Las hojas de algunas hortalizas presentan amarilleo y un crecimiento más lento, indicando una necesidad de fertilización.  
                </p>
                <p id="miDiv"></p>
              </div>
            </div>
            <div class="row justify-content-end">
              <div class="col-lg-3 mt-4">
                <button type="button" id="miBoton" class="btn btn-success">Recomendaciones <i class="material-icons opacity-10">expand_more</i></button>
              </div>
            </div>
            
          </div>
          


         
      
          <!-- Agrega el siguiente script -->
          <script>
              // Obtén referencias a los elementos del DOM
              var boton = document.getElementById('miBoton');
              var miDiv = document.getElementById('miDiv');
      
              // Agrega un escuchador de eventos al botón
              boton.addEventListener('click', function () {
                  // Agrega el texto al div cuando se hace clic en el botón

                  if (miDiv.style.height === '0px' || miDiv.style.height === '') {
                    miDiv.style.height = '50px';
                    miDiv.textContent = 'Será esencial realizar un análisis del suelo y ajustar el aporte de nutrientes para garantizar un crecimiento saludable y una cosecha abundante en el futuro.  No descuidar los niveles de humedad';
                  } else {
                    miDiv.style.height = '0';
                    miDiv.textContent = '';
                  }
                });
          </script>


          <div class="card col-lg-8 mt-3 mb-4">
            <div class="text-center mt-3">
              <h5>Precipitaciones en la huerta</h5>

            </div>
            <div class="mt-5">
              <div id="graph_large" class="graph_large"></div>
            </div>
  
          </div>

          <div class="col-lg-5 mb-lg-0 mb-4">
            <div class="card z-index-2 mt-4">
              <div class="card-body mt-n5 px-3">

                <h6 class="ms-2 mt-5 mb-0"> Porcentajes </h6>

                <div class="container border-radius-lg">
                  <div class="row">

                    <div class="col-3 py-3 ps-0">
                      <div class="d-flex mb-2">
                        <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-primary text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="material-icons opacity-10">groups</i>
                        </div>
                        <p class="text-xs my-auto font-weight-bold">Humedad</p>
                      </div>
                      <h4 class="font-weight-bolder">100%</h4>
                      <div class="progress w-100">
                        <div class="progress-bar bg-dark {{ width }}" role="progressbar" ></div>
                      </div>
                    </div>

                    <div class="col-3 py-3 ps-0">
                      <div class="d-flex mb-2">
                        <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-warning text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="material-icons opacity-10">receipt</i>
                        </div>
                        <p class="text-xs mt-1 mb-0 font-weight-bold">PH</p>
                      </div>
                      <h4 class="font-weight-bolder">23%</h4>
                      <div class="progress w-75">
                        <div class="progress-bar bg-dark w-30" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>


                    <div class="col-3 py-3 ps-0">
                      <div class="d-flex mb-2">
                        <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-danger text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="material-icons opacity-10">category</i>
                        </div>
                        <p class="text-xs mt-1 mb-0 font-weight-bold">Nutrientes</p>
                      </div>
                      <h4 class="font-weight-bolder">74%</h4>
                      <div class="progress w-75">
                        <div class="progress-bar bg-dark w-50" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>


                    <div class="col-3 py-3 ps-0">
                      <div class="d-flex mb-2">
                        <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-info text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="material-icons opacity-10">receipt</i>
                        </div>
                        <p class="text-xs mt-1 mb-0 font-weight-bold">Nutrientes</p>
                      </div>
                      <h4 class="font-weight-bolder">74%</h4>
                      <div class="progress w-75">
                        <div class="progress-bar bg-dark w-50" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <div id="graph_pie" class="graph_pie"> </div>


              </div>

            </div>

          </div>
          <div class="col-lg-5 mb-lg-0 mb-4">
            <div class="card mt-4">
            <h6 class="ms-4 mt-4 mb-0"> Análisis </h6>
            <div class="ms-4 me-3">
              
              <p>
                <i class="fa fa-arrow-right text-success"></i>
                Los gráfico muestran un equilibrio de nutrientes en la huerta comunitaria. Un suministro adecuado de nitrógeno, fósforo, potasio y micronutrientes es crucial para el crecimiento saludable de las plantas y la producción de alimentos de alta calidad. Este conocimiento proporciona una base sólida para implementar estrategias de fertilización específicas y mejorar continuamente la salud de la huerta.
  
              </p>  
              
            </div>
            </div>
          </div>


        </div>
      </div>
       


        </div>
          


        <div class="row">
          <div class="col-12">
            <div id="globe" class="position-absolute end-0 top-10 mt-sm-3 mt-7 me-lg-7">
              <canvas width="700" height="600" class="w-lg-100 h-lg-100 w-75 h-75 me-lg-0 me-n10 mt-lg-5"></canvas>
            </div>
          </div>
        </div>
        
        <footer class="footer py-4  ">
          <div class="container-fluid">
            <div class="row align-items-center justify-content-lg-between">
              <div class="col-lg-6 mb-lg-0 mb-4">
                <div class="copyright text-center text-sm text-muted text-lg-start">
                  <script> document.write(new Date().getFullYear())</script>, PIP <i class="fa fa-heart"></i> by UwU
                </div>
              </div>
              <!--

              <div class="col-lg-6">
                <ul class="nav nav-footer justify-content-center justify-content-lg-end">
                  <li class="nav-item">
                    <a href="https://www.creative-tim.com" class="nav-link text-muted" target="_blank">Creative Tim</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://www.creative-tim.com/presentation" class="nav-link text-muted" target="_blank">About Us</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://www.creative-tim.com/blog" class="nav-link text-muted" target="_blank">Blog</a>
                  </li>
                  <li class="nav-item">
                    <a href="https://www.creative-tim.com/license" class="nav-link pe-0 text-muted" target="_blank">License</a>
                  </li>
                </ul>
              </div>
              -->

            </div>
          </div>
        </footer>
      </div>
    
    </main>

    <div class="fixed-plugin">
      <a class="fixed-plugin-button text-dark position-fixed px-3 py-2">
        <i class="material-icons py-2">settings</i>
      </a>
      <div class="card shadow-lg">
        <div class="card-header pb-0 pt-3">
          <div class="float-start">
            <h5 class="mt-3 mb-0">Configuraciones</h5>
            
          </div>
          <div class="float-end mt-4">
            <button class="btn btn-link text-dark p-0 fixed-plugin-close-button">
              <i class="material-icons">clear</i>
            </button>
          </div>
          <!-- End Toggle Button -->

      </div>
      <hr class="horizontal dark my-1">
      <div class="card-body pt-sm-3 pt-0">
        
        <!-- Sidenav Type -->
        
        <div class="mt-3">
          <h6 class="mb-0">Barra de navegación</h6>
          <p class="text-sm">Elija entre 2 tipos diferentes de navegación lateral.</p>
        </div>

        <div class="d-flex">
          <button class="btn bg-gradient-dark px-3 mb-2 active" data-class="bg-gradient-dark" onclick="sidebarType(this)">Dark</button>
          <button class="btn bg-gradient-dark px-3 mb-2 ms-2" data-class="bg-transparent" onclick="sidebarType(this)">Transparent</button>
          <button class="btn bg-gradient-dark px-3 mb-2 ms-2" data-class="bg-white" onclick="sidebarType(this)">Light</button>
        </div>

        <!-- Navbar Fixed -->
        
        <div class="mt-3 d-flex">
          <h6 class="mb-0">Barra de navegación</h6>
          <div class="form-check form-switch ps-0 ms-auto my-auto">
            <input class="form-check-input mt-1 ms-auto" type="checkbox" id="navbarFixed" onclick="navbarFixed(this)">
          </div>
        </div>
        
        <hr class="horizontal dark my-3">
        <div class="mt-2 d-flex">
          <h6 class="mb-0">Light / Dark</h6>
          <div class="form-check form-switch ps-0 ms-auto my-auto">
            <input class="form-check-input mt-1 ms-auto" type="checkbox" id="dark-version" onclick="darkMode(this)">
          </div>
        </div>
        <hr class="horizontal dark my-sm-4">

      </div>
    </div>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.1/echarts.min.js"></script>
    <script src="{% static 'js/main_menu.js' %}"></script>
    <script>
      var win = navigator.platform.indexOf('Win') > -1;
      if (win && document.querySelector('#sidenav-scrollbar')) {
        var options = {
          damping: '0.5'
        }
        Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
      }
    </script>

    <!-- Github buttons -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>


   <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
   <script src="{% static 'js/material-dashboard.min.js' %}"></script>
  </body>

</html>
